<!DOCTYPE html>
<html>

<head></head>

<body onload="javascript:load();">
	Nickname:
	<input id="nameInput">
	<br>
	<button id="joinRoomButton">Join Room</button>
	<br>
	<button id="createRoomButton" onclick="javascript:createRoom();">Create Room</button>
	<script type="text/javascript">
		function load() {
			document.getElementById('nameInput').value = getCookie("name");
		}

		function createRoom() {
			var name = document.getElementById('nameInput').value;
			localStorage.setItem("name", name);
			setCookie("name", name);
			window.open("./waitingRoom.html", "_self");
		}

		function setCookie(cname, cvalue) {
			document.cookie = cname + "=" + cvalue + ";path=/";
		}

		function getCookie(cname) {
			var name = cname + "=";
			var decodedCookie = decodeURIComponent(document.cookie);
			var ca = decodedCookie.split(';');
			for (var i = 0; i < ca.length; i++) {
				var c = ca[i];
				while (c.charAt(0) == ' ') {
					c = c.substring(1);
				}
				if (c.indexOf(name) == 0) {
					return c.substring(name.length, c.length);
				}
			}
			return "";
		}
	</script>
</body>

</html>
